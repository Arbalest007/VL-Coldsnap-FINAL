<!DOCTYPE html>
<html land="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Page</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"/>
    <link rel="stylesheet" href="https://use.typekit.net/oov2wcw.css">
    <link rel="stylesheet" href="stylesheets/index.css"/>

    <script src="https://www.gstatic.com/firebasejs/9.3.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.3.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.3.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.3.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.3.0/firebase-storage-compat.js"></script>
</head>

<div class="logout-container"><button onClick="logout(); toLogin()" id="logout" class="btn btn-outline-light"
    style="font-family: quicksand;">Logout</button></div>

<div class="square-container">
    <centric>
        <body class="gradient">
          <style>
                img {
                    height: 400px;
                    width: 400px;
                    border: 2px  black;
                    background-image: url("stylesheets/images/insert_image.png");
                    background-repeat: no-repeat;
                    background-position: center;
                    background-color: #CCFFFF;
                    border-style: double;

                }
          </style>

            <div class="form-group">
                <label for="namebox" style="color:black; font-family: quicksand; font-weight: bold;">Image 
                    Title</label>
                <input class="form-control" style="color: black; background: #CCFFFF; border: solid 2px black;" id="namebox" type="text"> <br>
            </div>

            <img id="image"> <br><br>

            <div class="button">
                <button-alignment>
                    <button id="select" class="btn btn-dark" style="color: white; font-family: quicksand; font-weight: bold;">Select Image</button>
                    <button id="upload" class="btn btn-dark" style="color: white; font-family: quicksand; font-weight: bold;">Upload Image</button>
                    <button id="show" class="btn btn-dark" style="color: white; font-family: quicksand; font-weight: bold;">Show Images</button>
                </button-alignment>
                <br><br>
            </div>

            <button id="prev" class="btn btn-outline-dark" style="margin-left: 137px; color: black; font-family: quicksand; font-weight: bold;">Prev</button>
           <!-- <button onClick="logout(); toLogin()" id="logout" class="btn btn-danger"
                style="font-family: quicksand;">Logout</button> -->
            <button id="next" class="btn btn-outline-dark" style="color: black; font-family: quicksand; font-weight: bold;">Next</button>
                <br><br>

                <label id="upProgress" style="margin-left: 125px;"></label>
 
             <!-- This div is where the images are dynamically added from image.js -->
            <!-- STYLE ME PLS :) -->
            <div id="list" class="imageList">
            </div>

            
             <!-- This div is where the images are dynamically added from image.js
             STYLE ME PLS :) 
            <div id="list" class="imageList">
            </div> -->

            <script src="scripts/navigation.js" charset="utf-8"></script>
            <script src="scripts/firebaseconfig.js" charset="utf-8"></script>
            <script src="scripts/image.js" charset="utf-8"></script>
        </body>
    </centric>   
</div>

<!--Audio logic by https://stackoverflow.com/questions/15612120/how-do-i-make-an-audio-file-play-continuously-on-all-pages-->
<!--MP3 by Game Freak ~ Snowpoint -->
<audio preload="auto" src="stylesheets/mp3/snowpoint.mp3" loop="false" autobuffer></audio>
    
    <script>
    
    function setCookie(c_name,value,exdays)
    {
        var exdate=new Date();
        exdate.setDate(exdate.getDate() + exdays);
        var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
        document.cookie=c_name + "=" + c_value;
    }
    
    function getCookie(c_name)
    {
        var i,x,y,ARRcookies=document.cookie.split(";");
        for (i=0;i<ARRcookies.length;i++)
        {
          x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
          y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
          x=x.replace(/^\s+|\s+$/g,"");
          if (x==c_name)
            {
            return unescape(y);
            }
          }
    }
    
    var song = document.getElementsByTagName('audio')[0];
    song.volume = 0.03;
    var played = false;
    var tillPlayed = getCookie('timePlayed');
    function update()
    {
        if(!played){
            if(tillPlayed){
            song.currentTime = tillPlayed;
            song.play();
            played = true;
            }
            else {
                    song.play();
                    played = true;
            }
        }
    
        else {
        setCookie('timePlayed', song.currentTime);
        }
    }
    setInterval(update,1);
    </script>

</html>